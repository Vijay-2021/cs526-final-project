#lang rosette
(define (vsubq_s16  a b )
(define result
(apply
concat
(for/list ([e0 (reverse (range 0 8 1))])
 (define %1 (*  e0  16))
 (define %2 (+  e0  1))
 (define %3 (*  %2  16))
 (define %4 (-  %3  1))
 (define %5 (extract  %4 %1 a))
 (define %6 (*  e0  16))
 (define %7 (+  e0  1))
 (define %8 (*  %7  16))
 (define %9 (-  %8  1))
 (define %10 (extract  %9 %6 b))
 (define %11 (bvsub  %5  %10))
 %11
)
)
)
result)
(define a0 (bv #x4feb0a0d18d85cd7589008120dc31a6a 128))
(define b0 (bv #x67716ad0f502aba6bb59bfc990392ddf 128))
(assert (eq? (vsubq_s16 a0 b0) (bv #xe87a9f3d23d6b1319d3748497d8aec8b 128)))
(define a1 (bv #xb6ff74cee0755857e1aed2aca5ff65fd 128))
(define b1 (bv #x66eed17a89d6e3dba2592048ae628f9f 128))
(assert (eq? (vsubq_s16 a1 b1) (bv #x5011a354569f747c3f55b264f79dd65e 128)))
(define a2 (bv #x4f2861a927cd5d6991999f8aa7ee0724 128))
(define b2 (bv #x74094768de7f31468a8bfb24feff3220 128))
(assert (eq? (vsubq_s16 a2 b2) (bv #xdb1f1a41494e2c23070ea466a8efd504 128)))
(define a3 (bv #xe16edb0a5c5afcac2fe03917c20ce6e1 128))
(define b3 (bv #x7efa5539de1bb30cc3deaa247226071a 128))
(assert (eq? (vsubq_s16 a3 b3) (bv #x627485d17e3f49a06c028ef34fe6dfc7 128)))
(define a4 (bv #x5d9bcb9cf1790ee7b590a298e0d63c6d 128))
(define b4 (bv #xc84fb9e506025bf8ef4d3e6ad6e0d5de 128))
(assert (eq? (vsubq_s16 a4 b4) (bv #x954c11b7eb77b2efc643642e09f6668f 128)))
(define a5 (bv #xb6b3653b7c60200caba6f2dac254df45 128))
(define b5 (bv #xc462c4b79c83602056c7c7f12f75195f 128))
(assert (eq? (vsubq_s16 a5 b5) (bv #xf251a084dfddbfec54df2ae992dfc5e6 128)))
(define a6 (bv #x29b54bb7d5ed79a971ab139bfbe4b2e7 128))
(define b6 (bv #x5a5a60c0a938de8031d472705394a520 128))
(assert (eq? (vsubq_s16 a6 b6) (bv #xcf5beaf72cb59b293fd7a12ba8500dc7 128)))
(define a7 (bv #x2bf5528f7bc62ff7960dd9ceb3f5bafc 128))
(define b7 (bv #xcfda11fe1f8144f898aebcf53007a3cb 128))
(assert (eq? (vsubq_s16 a7 b7) (bv #x5c1b40915c45eafffd5f1cd983ee1731 128)))
(define a8 (bv #xbff602fbbc50e14921bd132c8852681a 128))
(define b8 (bv #x93a5b414933ba8a53424349f583ec4f3 128))
(assert (eq? (vsubq_s16 a8 b8) (bv #x2c514ee7291538a4ed99de8d3014a327 128)))
(define a9 (bv #xe44c68b1aaf53e18c8c4fe1f980c76cd 128))
(define b9 (bv #x602ba6bfaca2dc653fb513127479e30b 128))
(assert (eq? (vsubq_s16 a9 b9) (bv #x8421c1f2fe5361b3890feb0d239393c2 128)))
