#include <immintrin.h>
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>


void hex_out(const uint8_t * buf, ssize_t sz) {
    for (ssize_t i = sz - 1; i >= 0; --i) {
        printf("%02x", buf[i]);
    }
    printf("\n");
}


int main() {
__m512i src = _mm512_set_epi32(0x3f3e3d3c,0x3b3a3938,0x37363534,0x33323130,0x2f2e2d2c,0x2b2a2928,0x27262524,0x23222120,0x1f1e1d1c,0x1b1a1918,0x17161514,0x13121110,0x0f0e0d0c,0x0b0a0908,0x07060504,0x03020100);
__m512i a = _mm512_set_epi32(0x7f7e7d7c,0x7b7a7978,0x77767574,0x73727170,0x6f6e6d6c,0x6b6a6968,0x67666564,0x63626160,0x5f5e5d5c,0x5b5a5958,0x57565554,0x53525150,0x4f4e4d4c,0x4b4a4948,0x47464544,0x43424140);
__m512i b = _mm512_set_epi32(0xbfbebdbc,0xbbbab9b8,0xb7b6b5b4,0xb3b2b1b0,0xafaeadac,0xabaaa9a8,0xa7a6a5a4,0xa3a2a1a0,0x9f9e9d9c,0x9b9a9998,0x97969594,0x93929190,0x8f8e8d8c,0x8b8a8988,0x87868584,0x83828180);
  __m512i ret = _mm512_dpbusd_epi32(src,a,b);
  hex_out(&ret, 64);
  return 0;
}